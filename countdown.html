<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Countdown Evento</title>

<!-- Google Fonts: Kaushan Script -->
<link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">

<!-- Audio nascosto -->
<audio id="bgMusic" src="https://raw.githubusercontent.com/andreaecristina2023/Matrimonio/main/music/Are_You_Ready_For_This.mp3"></audio>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

html, body{
  width:100%;
  height:100%;
  font-family:'Kaushan Script', cursive;
  overflow:hidden;
  background: url('images/background.jpg') no-repeat center center/cover;
}

/* ===== MENU ===== */
nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 20px;
  height:70px;
  background: rgba(0,0,0,0.7);
  position:fixed;
  top:0;
  width:100%;
  z-index:1000;
}
nav .logo img{ height:50px; }
nav .menu{ display:flex; }
nav .menu a{
  color: rgba(255,255,255,0.85);
  text-decoration:none;
  margin-left:20px;
  font-size:1.2em;
  transition: color 0.3s;
}
nav .menu a:hover{ color:#ff6600; }

.hamburger{
  display:none;
  font-size:2em;
  color:#fff;
  cursor:pointer;
}

.mobile-menu{
  display:none;
  flex-direction:column;
  background: rgba(0,0,0,0.7);
  position:absolute;
  top:100%;
  right:0;
  width:200px;
  border-radius:0 0 12px 12px;
  box-shadow:0 4px 8px rgba(0,0,0,0.3);
}
.mobile-menu a{
  color: rgba(255,255,255,0.85);
  text-decoration:none;
  padding:10px 20px;
  font-size:1.2em;
  border-bottom:1px solid rgba(255,255,255,0.2);
  transition: color 0.3s;
}
.mobile-menu a:hover{ color:#ff6600; }

@media(max-width:768px){
  nav .menu{ display:none; }
  .hamburger{ display:block; }
  nav .logo img{ height:40px; }
  .mobile-menu{ width:160px; }
  .mobile-menu a{ font-size:1em; padding:8px 16px; }
}
@media(max-width:480px){
  nav .logo img{ height:35px; }
  .mobile-menu{ width:140px; }
  .mobile-menu a{ font-size:0.9em; padding:6px 12px; }
}

/* ===== CENTRAL CONTAINER ===== */
.central-container{
  width:100%;
  height:100%;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ===== STAGE ===== */
.stage{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  transition:opacity 0.8s ease;
}
.stage:not(.active){
  opacity:0;
  pointer-events:none;
}

/* ===== PLAY ===== */
#stagePlay{
  text-align:center;
}
#playTitle{
  font-size:2.5em;
  color:white;
  margin-bottom:30px;
}
#playBtn{
  font-size:28px;
  padding:14px 28px;
  border-radius:20px;
  background:#a32f2f;
  color:white;
  border:none;
  cursor:pointer;
  animation:glowBtn 1.5s infinite alternate;
}
#playBtn.moved{
  transform:scale(0.9);
  background:transparent;
}
@keyframes glowBtn{
  from{ box-shadow:0 0 0px #a32f2f; }
  to{ box-shadow:0 0 15px #ff4c4c; }
}

/* ===== SEQUENZA ===== */
.sequence{
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}
.sequence p{
  opacity:0;
  font-size:clamp(18px,4vw,28px);
  transition:opacity 0.6s ease;
}
.highlight{ color:#ff0000; } /* rosso */
.light{ color:#ffffff; }     /* bianco */

#finalText{
  opacity:0;
  font-size:clamp(22px,5vw,32px);
  color:red;
}

/* ===== COUNTDOWN ===== */
#countdown{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
  margin-top:60px;
}
.box{
  aspect-ratio:1/1;
  min-width:120px;
  min-height:120px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  border-radius:18px;
  background: linear-gradient(145deg, #ffffff, #f8f8f8); /* sfumatura bianca */
  box-shadow:0 0 15px rgba(255,0,0,0.5); /* shadow rossa */
}
.number, .label{
  color:#ff0000;            /* testo rosso */
  text-shadow:0 0 8px rgba(255,0,0,0.7); /* glow rosso */
}
.number{ font-size:32px; }
.label{ font-size:14px; }

</style>
</head>
<body>

<!-- ===== MENU ===== -->
<nav>
  <div class="logo">
    <a href="homepage.html"><img src="https://raw.githubusercontent.com/andreaecristina2023/Matrimonio/main/images/logo.png" alt="Logo"></a>
  </div>
  <div class="menu">
    <a href="homepage.html">Homepage</a>
    <a href="location.html">I luoghi principali</a>
    <a href="map.html">La Mappa dei nostri consigli</a>
    <a href="countdown.html">Siete pronti?!</a>
  </div>
  <div class="hamburger" id="hamburger">☰</div>
  <div class="mobile-menu" id="mobileMenu">
    <a href="homepage.html">Homepage</a>
    <a href="location.html">I luoghi principali</a>
    <a href="map.html">La Mappa dei nostri consigli</a>
    <a href="countdown.html">Siete pronti?!</a>
  </div>
</nav>

<div class="central-container">

  <!-- PLAY -->
  <div class="stage active" id="stagePlay">
    <div id="playTitle">Siete pront*?</div>
    <button id="playBtn">▶️ Play</button>
  </div>

  <!-- SEQUENZA TESTI -->
  <div class="stage" id="stageSequence">
    <div class="sequence">
      <p class="highlight">Ricordatevi di portare:</p>
      <p class="light">1. Il vostro sorriso migliore!</p>
      <p class="light">2. Un costume!</p>
      <p class="light">3. Tanta voglia di divertirvi!</p>
      <p class="highlight">4. Scarpe rosse e comode!</p>
    </div>
  </div>

  <!-- TESTO FINALE -->
  <div class="stage" id="stageFinal">
    <p id="finalText">...perché mancano solo...</p>
  </div>

  <!-- COUNTDOWN -->
  <div class="stage" id="stageCountdown">
    <div id="countdown">
      <div class="box"><div class="number" id="days">0</div><div class="label">gg</div></div>
      <div class="box"><div class="number" id="hours">0</div><div class="label">hh</div></div>
      <div class="box"><div class="number" id="minutes">0</div><div class="label">mm</div></div>
      <div class="box"><div class="number" id="seconds">0</div><div class="label">ss</div></div>
    </div>
  </div>

</div>

<script>
// ===== MENU MOBILE =====
const mobileMenu = document.getElementById('mobileMenu');
const hamburger = document.getElementById('hamburger');
hamburger.addEventListener('click', () => {
  mobileMenu.style.display = mobileMenu.style.display==='flex'?'none':'flex';
});
mobileMenu.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => mobileMenu.style.display='none');
});
window.addEventListener('resize', ()=>{
  if(window.innerWidth>768) mobileMenu.style.display='none';
});

// ===== COUNTDOWN =====
const target = new Date("2026-06-04T16:00:00").getTime();
function updateCountdown(){
  const diff = target - Date.now();
  if(diff<=0) return;
  document.getElementById('days').innerText = Math.floor(diff/86400000);
  document.getElementById('hours').innerText = Math.floor(diff/3600000)%24;
  document.getElementById('minutes').innerText = Math.floor(diff/60000)%60;
  document.getElementById('seconds').innerText = Math.floor(diff/1000)%60;
}
setInterval(updateCountdown,1000);
updateCountdown();

// ===== SEQUENZA ANIMATA =====
const stagePlay = document.getElementById("stagePlay");
const stageSequence = document.getElementById("stageSequence");
const stageFinal = document.getElementById("stageFinal");
const stageCountdown = document.getElementById("stageCountdown");
const lines = stageSequence.querySelectorAll("p");
const finalText = document.getElementById("finalText");
const playBtn = document.getElementById("playBtn");
const bgMusic = document.getElementById("bgMusic");

function showSequence(i=0){
  if(i<lines.length){
    lines[i].style.opacity = 1;
    setTimeout(()=> showSequence(i+1), 2000);
  } else {
    stageSequence.classList.remove("active");
    stageFinal.classList.add("active");
    setTimeout(()=> finalText.style.opacity=1, 200);
    setTimeout(()=> {
      stageFinal.classList.remove("active");
      stageCountdown.classList.add("active");
    }, 2200);
  }
}

// Play button
playBtn.addEventListener("click", ()=>{
  stagePlay.classList.remove("active");
  playBtn.classList.add("moved");
  bgMusic.play().catch(()=>console.log("Autoplay bloccato"));
  stageSequence.classList.add("active");
  setTimeout(()=> showSequence(), 1000);
});
</script>

</body>
</html>