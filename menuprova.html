<script>
fetch('menu.html')
  .then(res => res.text())
  .then(html => {
      document.getElementById('menu-placeholder').innerHTML = html;

      // Hamburger
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobileMenu');
      hamburger.addEventListener('click', () => {
          mobileMenu.style.display = mobileMenu.style.display === 'flex' ? 'none' : 'flex';
      });
      mobileMenu.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => mobileMenu.style.display = 'none');
      });
      window.addEventListener('resize', () => {
          if(window.innerWidth > 768) mobileMenu.style.display = 'none';
      });

      // Evidenzia link corrente
      const currentPage = window.location.pathname.split("/").pop();
      document.querySelectorAll('nav a').forEach(link => {
          if(link.getAttribute('href') === currentPage){
              link.style.color = "#ff0000";
              link.style.fontWeight = "bold";
          }
      });

      // Titolo dinamico
      const titles = {
          "homepage.html": "Benvenuti al nostro matrimonio",
          "location.html": "I Luoghi Principali",
          "map.html": "Mappa dei consigli",
          "countdown.html": "Siete pronti?!"
      };
      const pageTitle = document.getElementById("pageTitle");
      if(pageTitle) pageTitle.textContent = titles[currentPage] || "Benvenuti";
  })
  .catch(err => console.error(err));
</script>